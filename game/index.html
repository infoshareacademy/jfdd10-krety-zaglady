<!-- LINKI https://codepen.io/huxodos/pen/gmaRRK -->

<body>
    
        <style>
            .game {
                /* display: flex;
            flex-direction: column; */
                margin-left: auto;
                margin-right: auto;
                /* padding-top: 2px; */
                width: 1200px;
                height: 800px;
                background-color: gray;
            }
            .game_main {
                display: flex;
                flex-direction: column;
                margin-left: auto;
                margin-right: auto;
                width: 990px;
                height: 790px;
                background-color: darkgray;
            }
            .game_main_window {
                margin-left: auto;
                margin-right: auto;
                padding-top: 10px;
                /* margin-top: 10px; */
                width: 990px;
                height: 650px;
                background-color: darkgray;
            }
            .level_window {
                position: relative;
                display: flex;
                flex-direction: column;
                margin-left: auto;
                margin-right: auto;
                width: 95%;
                height: 95%;
                background-color: black;
            }
            .basket {
                position: absolute;
                bottom: 0;
                left: 430px;
                /* margin: auto; */
                height: 40px;
                width: 80px;
                background-color: lawngreen;
            }
            .stats_window {
                display: flex;
                margin: auto;
                margin-left: 10px;
                margin-right: 10px;
                width: 98%;
                height: 120px;
                background-color: darkgray;
            }
            .life {
                margin: auto;
                width: 30%;
                height: 115px;
                background-color: gray;
            }
            .hot_key {
                margin: auto;
                width: 30%;
                height: 115px;
                background-color: gray;
            }
            .scoore {
                margin: auto;
                width: 30%;
                height: 115px;
                background-color: gray;
            }
        </style>
    
        <div class="game">
            <div class="game_main">
                <div class="game_main_window">
                    <div class="level_window">
                        <div class="basket"></div>
                    </div>
                </div>
                <div class="stats_window">
                    <div class="life"></div>
                    <div class="hot_key"></div>
                    <div class="scoore"></div>
                </div>
            </div>
        </div>
    
        <script type="text/javascript">
            // ZMIENNE
            var position = 430;
            var velocity = 0;
            var player = document.querySelector('.basket');
            var goLeft = false;
            var goRight = false;
            //PREDKOSC PORUSZANIA SIE KOSZA
            var speed = 6; //predkosc bedzie zalezna od poziomu/czasu jaki uplyno≈Ç
            // var basketWalkL = 0;
            // var basketWalkR = 0;
            // PREDKOSC
            var dTime = 16;
            var keyPressed = false;
            // STEROWANIE
            window.addEventListener('keydown', function (event) {
                    keyPressed = event.code;
                    // if (event.code === 'KeyZ') {
                    //     goLeft = true;
                    // }
                    // if (event.code === 'KeyM') {
                    //     goRight = true;
                    // }
                })
                window.addEventListener('keyup', function (event) {
                    keyPressed = false;
                    // if (event.code === 'KeyZ')
                    //     goLeft = false;
                    // if (event.code === 'KeyM') {
                    //     goRight = false;
                    // }
                });
                // FUNKCJE WYKONAWCZE LEWO
                setInterval(function () {
                    if (keyPressed) {
                        if(keyPressed === 'KeyZ'){
                            velocity = -1;
                        }else if(keyPressed === 'KeyM'){
                            velocity = 1;
                        }else{
                            return false;
                        }
                    }else{
                        return false;
                    }
                    // velocity =  (velocity + position )* dTime
                    // velocity = (velocity + position );// * dTime
                // });
                // setInterval(function () {
                //     if (goRight) {
                //         basketWalkR = 0.05;
                //     } else {
                //         basketWalkR = 0.05;
                //     }
                //     basketWalkR = basketWalkR * dTime,
                //         0
                // });
                console.log(parseInt(position), parseInt(velocity));
                //ODEJMUJE OD KONTENERA SZEROKOSC KOSZA CO POWODUJE OGRANICZENIA Z OBU STRON
                position = Math.min(Math.max(0, position + velocity * speed), 940 - 80);
                // Render new  position
                player.style.left = position + 'px';
            }, dTime)

    
                 
        </script>
    </body>
    
    </html>